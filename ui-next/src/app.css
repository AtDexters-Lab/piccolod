@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;

  --font-display: 'Comfortaa', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-ui: 'Inter', 'SF Pro Text', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: ui-monospace, 'SFMono-Regular', Menlo, Consolas, 'Liberation Mono', monospace;

  --space-4: 4px;
  --space-8: 8px;
  --space-12: 12px;
  --space-16: 16px;
  --space-24: 24px;
  --space-32: 32px;
  --space-40: 40px;
  --grid-max-width: 1200px;

  --motion-dur-fast: 120ms;
  --motion-dur-med: 180ms;
  --motion-dur-slow: 240ms;
  --motion-ease-standard: cubic-bezier(0.2, 0, 0, 1);
  --motion-ease-emphasized: cubic-bezier(0.16, 1, 0.3, 1);
  --motion-distance-sm: 8px;
  --motion-distance-md: 16px;

  --sys-surface: 244 246 251;
  --sys-surface-variant: 255 255 255;
  --sys-surface-muted: 235 239 249;
  --sys-ink: 20 24 33;
  --sys-ink-muted: 94 102 115; /* slightly darker for AA */
  --accent-700: #254BDD;
  --accent-600: #2F5AF3;
  --accent-500: #3D66FF;
  --accent-400: #5F80FF;
  --accent-300: #7EA2FF;
  --sys-accent: var(--accent-600);
  --sys-accent-rgb: 47 90 243;
  --sys-accent-hero: var(--accent-500);
  --sys-accent-hero-rgb: 61 102 255;
  --sys-on-accent: 255 255 255;
  --sys-link: var(--accent-600);
  --link-visited: #1D4ED8;
  --sys-success: 16 185 129;
  --sys-on-success: 255 255 255;
  --sys-info: 59 130 246;
  --sys-on-info: 255 255 255;
  --sys-warning: 245 158 11;
  --sys-on-warning: 20 24 33;
  --sys-critical: 239 68 68;
  --sys-on-critical: 255 255 255;
  --sys-outline: rgba(20, 24, 33, 0.14);
  --sys-hairline: rgba(20, 24, 33, 0.08);
  --sys-scrim: 8 10 18;
  --sys-overlay: 255 255 255;
  --sys-disabled-bg: 229 233 243;
  --sys-disabled-fg: rgba(20, 24, 33, 0.38);
  --border-strong: #C9D3E3;
  --outline-strong: rgba(20, 24, 33, 0.2);
  --focus-ring: 0 0 0 2px rgba(47, 90, 243, 0.2), 0 0 0 1px rgba(47, 90, 243, 0.5) inset;

  /* Component aliases */
  --card-bg: linear-gradient(160deg, rgba(255, 255, 255, 0.96), rgba(247, 248, 254, 0.9));
  --card-border: rgba(255, 255, 255, 0.55);
  --card-overlay: rgba(255, 255, 255, 0.7);
  --btn-primary-bg: linear-gradient(180deg, var(--accent-500), var(--accent-600));
  --btn-primary-bg-hover: linear-gradient(180deg, var(--accent-400), var(--accent-500));
  --btn-primary-bg-pressed: var(--accent-700);
  --btn-primary-shadow: 0 8px 20px rgba(63, 107, 255, 0.22), 0 2px 4px rgba(0, 0, 0, 0.04);
  --btn-primary-shadow-hover: 0 10px 24px rgba(63, 107, 255, 0.28), 0 4px 10px rgba(63, 107, 255, 0.18);
  --btn-primary-shadow-pressed: none;
  --btn-secondary-bg: rgb(var(--sys-surface-variant));
  --btn-secondary-fg: rgb(var(--sys-ink));
  --btn-secondary-outline: var(--border-strong);
  --btn-secondary-hover-bg: rgba(63, 107, 255, 0.06);
  --btn-ghost-hover-bg: rgba(63, 107, 255, 0.06);
  --stepper-pending-bg: rgb(var(--sys-surface-muted) / 0.65);
  --stepper-active-bg: var(--sys-accent);
  --stepper-active-shadow: 0 10px 20px rgb(var(--sys-accent-rgb) / 0.35);
  --stepper-done-bg: rgb(var(--sys-success) / 0.2);
  --stepper-error-bg: rgb(var(--sys-critical));
  --stepper-blocked-bg: rgb(var(--sys-warning));
  --stepper-focus-ring: 0 0 0 2px rgba(20, 24, 33, 0.12);
  --chip-info-bg: rgb(var(--sys-info) / 0.12);
  --chip-warning-bg: rgb(var(--sys-warning) / 0.14);
  --chip-critical-bg: rgb(var(--sys-critical) / 0.14);
  --toast-info-bg: rgb(var(--sys-info) / 0.12);
  --toast-error-bg: rgb(var(--sys-critical) / 0.12);
  --toast-border: rgba(20, 24, 33, 0.08);

  --radius-xs: 6px;
  --radius-sm: 10px;
  --radius-md: 14px;
  --radius-lg: 20px;
  --radius-xl: 28px;
  --radius-pill: 999px;
  --shadow-soft: 0 25px 45px rgb(21 28 46 / 0.08);
  --shadow-strong: 0 35px 65px rgb(21 28 46 / 0.15);
  --elev-1: 0 1px 2px rgba(0, 0, 0, 0.06);
  --elev-2: 0 2px 8px rgba(14, 19, 34, 0.08), 0 1px 2px rgba(14, 19, 34, 0.06);
  --elev-3: 0 8px 20px rgba(14, 19, 34, 0.12), 0 2px 6px rgba(14, 19, 34, 0.08);

  --hero-gradient: radial-gradient(1150px 560px at 18% -5%, #F6F8FC 0%, #E9EEF6 42%, #E4EAF3 100%);
  --card-gradient: var(--card-bg);
}

[data-theme='dark'] {
  color-scheme: dark;
  --sys-surface: 15 23 42;
  --sys-surface-variant: 26 32 48;
  --sys-surface-muted: 36 44 64;
  --sys-ink: 242 243 255;
  --sys-ink-muted: 190 197 220;
  --accent-700: #3F6BFF;
  --accent-600: #5B86FF;
  --accent-500: #7EA2FF;
  --accent-400: #9AB6FF;
  --accent-300: #BFD0FF;
  --sys-accent: var(--accent-500);
  --sys-accent-rgb: 126 162 255;
  --sys-accent-hero: var(--accent-400);
  --sys-accent-hero-rgb: 154 182 255;
  --sys-on-accent: 13 15 24;
  --sys-link: var(--accent-500);
  --link-visited: #7EA2FF;
  --sys-outline: rgba(231, 236, 246, 0.14);
  --sys-hairline: rgba(231, 236, 246, 0.08);
  --sys-scrim: 0 0 0;
  --sys-overlay: 32 36 56;
  --sys-disabled-bg: 42 48 66;
  --sys-disabled-fg: rgba(231, 236, 246, 0.38);
  --border-strong: rgba(231, 236, 246, 0.25);
  --outline-strong: rgba(231, 236, 246, 0.3);
  --focus-ring: 0 0 0 2px rgba(126, 162, 255, 0.28), 0 0 0 1px rgba(9, 12, 24, 0.9) inset;
  --hero-gradient: radial-gradient(circle at 20% 0%, rgba(25, 28, 45, 0.95), rgba(13, 16, 28, 0.98));
  --card-gradient: linear-gradient(160deg, rgba(32, 36, 56, 0.9), rgba(20, 24, 40, 0.9));
  --card-bg: var(--card-gradient);
  --card-border: rgba(255, 255, 255, 0.08);
  --card-overlay: rgba(5, 7, 16, 0.35);
  --btn-primary-bg: linear-gradient(180deg, var(--accent-400), var(--accent-500));
  --btn-primary-bg-hover: linear-gradient(180deg, var(--accent-300), var(--accent-400));
  --btn-primary-bg-pressed: var(--accent-600);
  --btn-primary-shadow: 0 8px 20px rgba(0, 0, 0, 0.55), 0 2px 6px rgba(0, 0, 0, 0.35);
  --btn-primary-shadow-hover: 0 10px 24px rgba(0, 0, 0, 0.6), 0 4px 10px rgba(0, 0, 0, 0.4);
  --btn-primary-shadow-pressed: none;
  --btn-secondary-bg: rgba(34, 40, 60, 0.95);
  --btn-secondary-fg: rgb(var(--sys-ink));
  --btn-secondary-outline: rgba(255, 255, 255, 0.18);
  --btn-secondary-hover-bg: rgba(126, 162, 255, 0.12);
  --btn-ghost-hover-bg: rgba(126, 162, 255, 0.12);
  --stepper-pending-bg: rgba(42, 48, 70, 0.95);
  --stepper-active-shadow: 0 10px 22px rgba(0, 0, 0, 0.65);
  --stepper-done-bg: rgba(var(--sys-success), 0.25);
  --stepper-error-bg: rgb(var(--sys-critical) / 0.9);
  --stepper-blocked-bg: rgb(var(--sys-warning) / 0.9);
  --toast-info-bg: rgb(var(--sys-info) / 0.15);
  --toast-error-bg: rgb(var(--sys-critical) / 0.15);
  --toast-border: rgba(255, 255, 255, 0.08);
  --shadow-soft: 0 35px 65px rgb(0 0 0 / 0.45);
  --shadow-strong: 0 45px 85px rgb(0 0 0 / 0.6);
  --elev-1: 0 1px 2px rgba(0, 0, 0, 0.45);
  --elev-2: 0 2px 8px rgba(0, 0, 0, 0.55), 0 1px 2px rgba(0, 0, 0, 0.35);
  --elev-3: 0 8px 20px rgba(0, 0, 0, 0.65), 0 2px 6px rgba(0, 0, 0, 0.45);
}

@media (prefers-contrast: more) {
  :root {
    --hero-gradient: linear-gradient(180deg, rgb(var(--sys-surface)), rgb(var(--sys-surface)));
    --card-gradient: rgb(var(--sys-surface-variant));
    --btn-primary-bg: var(--sys-accent);
    --btn-primary-bg-hover: var(--sys-accent);
    --btn-primary-bg-pressed: var(--sys-accent);
    --btn-primary-shadow: none;
    --btn-primary-shadow-hover: none;
    --btn-primary-shadow-pressed: none;
    --shadow-soft: 0 0 0 rgb(var(--sys-ink) / 0);
    --shadow-strong: 0 0 0 rgb(var(--sys-ink) / 0);
  }
}

@media (prefers-reduced-motion: reduce) {
  :root {
    --motion-dur-fast: 0ms;
    --motion-dur-med: 0ms;
    --motion-dur-slow: 0ms;
  }
  *, *::before, *::after {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
  }
}

body {
  font-family: var(--font-ui);
  background: var(--hero-gradient);
  color: rgb(var(--sys-ink));
  min-height: 100vh;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

h1,
h2,
h3,
.font-display {
  font-family: var(--font-display);
}

a {
  color: var(--sys-link);
  text-decoration: underline;
}

a:hover {
  text-decoration-thickness: 2px;
}

a:visited {
  color: var(--link-visited);
}

:where(button, [role='button'], a, input, select, textarea):focus,
:where(button, [role='button'], a, input, select, textarea):focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

[data-theme='dark'] input,
[data-theme='dark'] textarea,
[data-theme='dark'] select {
  background: rgba(34, 40, 60, 0.95);
  border-color: rgba(255, 255, 255, 0.18);
  color: rgb(var(--sys-ink));
}

[data-theme='dark'] input::placeholder,
[data-theme='dark'] textarea::placeholder {
  color: rgb(var(--sys-ink-muted));
}

button {
  font: inherit;
  font-family: var(--font-ui);
}

.elev-1 {
  box-shadow: var(--elev-1);
}

.elev-2 {
  box-shadow: var(--elev-2);
}

.elev-3 {
  box-shadow: var(--elev-3);
}

.meta-label {
  font-size: 0.72rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-weight: 600;
  color: rgb(var(--sys-ink-muted));
}

.meta-label--lg {
  font-size: 0.85rem;
  letter-spacing: 0.16em;
}
